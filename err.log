fixme:msvcrt:_setmbcp trail bytes data not available for DBCS codepage 0 - assuming all bytes
=== wubi 4.0 rev0 ===
Logfile is c:\users\hechao\temp\wubi-4.0-rev0.log
sys.argv = ['src/main.py', '--test']
data_dir=Z:\home\hechao\projects\wubi\src\data
bin_dir=Z:\home\hechao\projects\wubi\src\bin
image_dir=Z:\home\hechao\projects\wubi\src\data\images
application_icon=Z:\home\hechao\projects\wubi\src\data\images\Wubi.ico
7z=Z:\home\hechao\projects\wubi\src\bin\7z.exe
Fetching basic info...
original_exe=Z:\home\hechao\projects\wubi\src\main.py
platform=win32
osname=nt
language=zh_CN
encoding=cp936
arch=amd64
Parsing isolist=Z:\home\hechao\projects\wubi\src\data\isolist.ini
  Adding distro Ylmf_OS-i386
Fetching host info...
registry_key=Software\Microsoft\Windows\CurrentVersion\Uninstall\Wubi
windows version=xp
windows_version2=None
windows_sp=Service Pack 3
windows_build=2600
gmt=0
country=CN
timezone=Asia/Shanghai
windows_username=hechao
user_full_name=hechao
user_directory=C:\users\hechao
windows_language_code=1028
windows_language=Chinese (Traditional)
processor_name=None
bootloader=xp
system_drive=Drive(C: hd 70436.6289062 mb free ntfs)
drive=Drive(C: hd 70436.6289062 mb free ntfs)
drive=Drive(Z: hd 70436.6289062 mb free ntfs)
uninstaller_path=C:\ylmfos\uninstall-wubi.exe
previous_target_dir=C:\ylmfos
previous_distro_name=Ylmf_OS
keyboard_id=-536803324
keyboard_layout=us
keyboard_variant=
python locale=('zh_CN', 'cp936')
locale=zh_CN.UTF-8
total_memory_mb=2047.99999905
Searching ISOs on USB devices
Searching for local CDs
  checking whether C:\ is a valid Ylmf_OS CD
    does not contain C:\casper\filesystem.squashfs
  checking whether Z:\home\hechao\projects\wubi is a valid Ylmf_OS CD
    does not contain Z:\home\hechao\projects\wubi\casper\filesystem.squashfs
Already installed, running the uninstaller...
Running the uninstaller...
__init__...
on_init...
appname=wubi, localedir=Z:\home\hechao\projects\wubi\src\translations, languages=['zh_CN', 'zh']
Received settings
appname=wubi, localedir=Z:\home\hechao\projects\wubi\src\translations, languages=['zh_CN', 'zh']
# Running tasklist...
## Running 备份 ISO 光盘镜像文件...
## Finished 备份 ISO 光盘镜像文件
## Running 删除引导项...
Cannot find bcdedit
undo_bootini C:
undo_configsys Drive(C: hd 70436.6289062 mb free ntfs)
undo_bootini Z:
undo_configsys Drive(Z: hd 70436.6289062 mb free ntfs)
## Finished 删除引导项
## Running 删除目标目录...
Deleting C:\ylmfos
fixme:attrib:wmain attrib.exe is currently only a stub command
fixme:attrib:wmain cmdline: L"attrib" L"-R" L"-S" L"-H" L"C:\\ylmfos\\Ylmf_OS.ico"
fixme:attrib:wmain attrib.exe is currently only a stub command
fixme:attrib:wmain cmdline: L"attrib" L"-R" L"-S" L"-H" L"C:\\ylmfos\\install\\installation.iso"
fixme:attrib:wmain attrib.exe is currently only a stub command
fixme:attrib:wmain cmdline: L"attrib" L"-R" L"-S" L"-H" L"C:\\ylmfos\\install\\custom-installation\\hooks\\early-command.sh"
fixme:attrib:wmain attrib.exe is currently only a stub command
fixme:attrib:wmain cmdline: L"attrib" L"-R" L"-S" L"-H" L"C:\\ylmfos\\install\\custom-installation\\hooks\\success-command.sh"
fixme:attrib:wmain attrib.exe is currently only a stub command
fixme:attrib:wmain cmdline: L"attrib" L"-R" L"-S" L"-H" L"C:\\ylmfos\\install\\custom-installation\\hooks\\casper-premount.sh"
fixme:attrib:wmain attrib.exe is currently only a stub command
fixme:attrib:wmain cmdline: L"attrib" L"-R" L"-S" L"-H" L"C:\\ylmfos\\install\\custom-installation\\hooks\\failure-command.sh"
## Finished 删除目标目录
## Running 删除注册表键值...
## Finished 删除注册表键值
# Finished tasklist
Almost finished uninstalling
Finished uninstallation
Fetching basic info...
original_exe=Z:\home\hechao\projects\wubi\src\main.py
platform=win32
osname=nt
arch=amd64
Parsing isolist=Z:\home\hechao\projects\wubi\src\data\isolist.ini
  Adding distro Ylmf_OS-i386
Fetching host info...
registry_key=Software\Microsoft\Windows\CurrentVersion\Uninstall\Wubi
windows version=xp
windows_version2=None
windows_sp=Service Pack 3
windows_build=2600
gmt=0
country=CN
timezone=Asia/Shanghai
windows_username=hechao
user_full_name=hechao
user_directory=C:\users\hechao
windows_language_code=1028
windows_language=Chinese (Traditional)
processor_name=None
bootloader=xp
system_drive=Drive(C: hd 70689.6757812 mb free ntfs)
drive=Drive(C: hd 70689.6757812 mb free ntfs)
drive=Drive(Z: hd 70689.6757812 mb free ntfs)
uninstaller_path=None
previous_target_dir=None
previous_distro_name=None
keyboard_id=-536803324
keyboard_layout=us
keyboard_variant=
total_memory_mb=2047.99999905
Searching ISOs on USB devices
Searching for local CDs
  checking whether C:\ is a valid Ylmf_OS CD
    does not contain C:\casper\filesystem.squashfs
  checking whether Z:\home\hechao\projects\wubi is a valid Ylmf_OS CD
    does not contain Z:\home\hechao\projects\wubi\casper\filesystem.squashfs
Running the installer...
appname=wubi, localedir=Z:\home\hechao\projects\wubi\src\translations, languages=['zh_CN', 'zh']
appname=wubi, localedir=Z:\home\hechao\projects\wubi\src\translations, languages=['zh_CN', 'zh']
target_drive=C:, installation_size=17000MB, distro_name=Ylmf_OS, language=zh_CN, locale=zh_CN.UTF-8, username=hechao
Received settings
appname=wubi, localedir=Z:\home\hechao\projects\wubi\src\translations, languages=['zh_CN', 'zh']
# Running tasklist...
## Running select_target_dir...
Installing into C:\ylmfos
## Finished select_target_dir
## Running create_dir_structure...
Creating dir C:\ylmfos
Creating dir C:\ylmfos\disks
Creating dir C:\ylmfos\install
Creating dir C:\ylmfos\install\boot
Creating dir C:\ylmfos\disks\boot
Creating dir C:\ylmfos\disks\boot\grub
Creating dir C:\ylmfos\install\boot\grub
## Finished create_dir_structure
## Running uncompress_target_dir...
wine: cannot find L"C:\\windows\\system32\\compact.exe"
[Errno 2] File not found
## Finished uncompress_target_dir
## Running create_uninstaller...
Setting registry key -2147483646 Software\Microsoft\Windows\CurrentVersion\Uninstall\Wubi UninstallString C:\ylmfos\uninstall-wubi.exe
Setting registry key -2147483646 Software\Microsoft\Windows\CurrentVersion\Uninstall\Wubi InstallationDir C:\ylmfos
Setting registry key -2147483646 Software\Microsoft\Windows\CurrentVersion\Uninstall\Wubi DisplayName Ylmf_OS
Setting registry key -2147483646 Software\Microsoft\Windows\CurrentVersion\Uninstall\Wubi DisplayIcon C:\ylmfos\Ylmf_OS.ico
Setting registry key -2147483646 Software\Microsoft\Windows\CurrentVersion\Uninstall\Wubi DisplayVersion 4.0-rev0
Setting registry key -2147483646 Software\Microsoft\Windows\CurrentVersion\Uninstall\Wubi Publisher Ylmf_OS
Setting registry key -2147483646 Software\Microsoft\Windows\CurrentVersion\Uninstall\Wubi URLInfoAbout http://www.xp.com
Setting registry key -2147483646 Software\Microsoft\Windows\CurrentVersion\Uninstall\Wubi HelpLink http://www.xp.com
## Finished create_uninstaller
## Running copy_installation_files...
Copying Z:\home\hechao\projects\wubi\src\data\custom-installation -> C:\ylmfos\install\custom-installation
Copying Z:\home\hechao\projects\wubi\src\data\images\Ylmf_OS.ico -> C:\ylmfos\Ylmf_OS.ico
## Finished copy_installation_files
## Running get_iso...
Searching for local CD
  checking whether C:\ is a valid Ylmf_OS CD
    does not contain C:\casper\filesystem.squashfs
  checking whether Z:\home\hechao\projects\wubi is a valid Ylmf_OS CD
    does not contain Z:\home\hechao\projects\wubi\casper\filesystem.squashfs
Searching for local ISO
  checking Ylmf_OS ISO Z:\home\hechao\projects\wubi\ylmf_os4-20110407.iso
fixme:msvcrt:_setmbcp trail bytes data not available for DBCS codepage 0 - assuming all bytes
  extracting .disk\info from Z:\home\hechao\projects\wubi\ylmf_os4-20110407.iso
fixme:msvcrt:_setmbcp trail bytes data not available for DBCS codepage 0 - assuming all bytes
  parsing info from str=Ylmf_OS 4 "Neutron Star Collision (Love Is Forever)" - Release i386 (201012)

  parsed info={'name': 'Ylmf_OS', 'subversion': 'Release', 'version': '4', 'build': '201012', 'codename': 'Neutron Star Collision (Love Is Forever)', 'arch': 'i386'}
Found a valid iso for Ylmf_OS: Z:\home\hechao\projects\wubi\ylmf_os4-20110407.iso
Trying to use ISO Z:\home\hechao\projects\wubi\ylmf_os4-20110407.iso
New task check_iso
### Running check_iso...
Checking Z:\home\hechao\projects\wubi\ylmf_os4-20110407.iso
  checking Ylmf_OS ISO Z:\home\hechao\projects\wubi\ylmf_os4-20110407.iso
Found a valid iso for Ylmf_OS: Z:\home\hechao\projects\wubi\ylmf_os4-20110407.iso
New task get_metalink
#### Running get_metalink...
downloading  > C:\ylmfos\install
Cannot download metalink file  err=string index out of range
downloading  > C:\ylmfos\install
Cannot download metalink file2  err=string index out of range
#### Finished get_metalink
ERROR: the metalink file is not available, cannot check the md5 for Z:\home\hechao\projects\wubi\ylmf_os4-20110407.iso, ignoring
### Finished check_iso
New task copy_file
Copying Z:\home\hechao\projects\wubi\ylmf_os4-20110407.iso > C:\ylmfos\install\installation.iso
### Running copy_file...
### Finished copy_file
## Finished get_iso
## Running extract_kernel...
Extracting files from ISO C:\ylmfos\install\installation.iso
  extracting md5sum.txt from C:\ylmfos\install\installation.iso
fixme:msvcrt:_setmbcp trail bytes data not available for DBCS codepage 0 - assuming all bytes
  extracting casper\vmlinuz from C:\ylmfos\install\installation.iso
fixme:msvcrt:_setmbcp trail bytes data not available for DBCS codepage 0 - assuming all bytes
  extracting casper\initrd.img from C:\ylmfos\install\installation.iso
fixme:msvcrt:_setmbcp trail bytes data not available for DBCS codepage 0 - assuming all bytes
Checking kernel, initrd and md5sums
  checking C:\ylmfos\install\boot\vmlinuz
  C:\ylmfos\install\boot\vmlinuz md5 = e8eb6f02e935d18eb84252c3f8dbc646 == e8eb6f02e935d18eb84252c3f8dbc646
  checking C:\ylmfos\install\boot\initrd.img
  C:\ylmfos\install\boot\initrd.img md5 = c20a97e07b565dd6c45acac9a8326691 == c20a97e07b565dd6c45acac9a8326691
## Finished extract_kernel
## Running choose_disk_sizes...
total size=17000
  root=16744
  swap=256
  home=0
  usr=0
## Finished choose_disk_sizes
## Running create_preseed...
## Finished create_preseed
## Running modify_bootloader...
New task modify_bootini
### Running modify_bootini...
modify_bootini C:
Could not find boot.ini C:\boot.ini
### Finished modify_bootini
New task modify_bootini
### Running modify_bootini...
modify_bootini Z:
Could not find boot.ini Z:\boot.ini
### Finished modify_bootini
## Finished modify_bootloader
## Running modify_grub_configuration...
## Finished modify_grub_configuration
## Running create_virtual_disks...
 Creating virtual disk C:\ylmfos\disks\root.disk of 16744MB
fixme:file:SetFileValidData stub: 0xf4, 416800000
 Creating virtual disk C:\ylmfos\disks\swap.disk of 256MB
fixme:file:SetFileValidData stub: 0xf4, 10000000
## Finished create_virtual_disks
## Running uncompress_files...
compact C:\ylmfos\install\boot /U /A /F
wine: cannot find L"C:\\windows\\system32\\compact.exe"
[Errno 2] File not found
compact C:\ylmfos\install\boot\*.* /U /A /F
wine: cannot find L"C:\\windows\\system32\\compact.exe"
[Errno 2] File not found
## Finished uncompress_files
## Running eject_cd...
## Finished eject_cd
# Finished tasklist
Almost finished installing
appname=wubi, localedir=Z:\home\hechao\projects\wubi\src\translations, languages=['zh_CN', 'zh']
Finished installation
application.quit
frontend.quit
frontend.on_quit
application.on_quit
sys.exit
